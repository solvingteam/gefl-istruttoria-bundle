{"version":3,"sources":["img/image_25.png","http/helpers.js","http/api.js","Constants.js","components/Dettaglio.js","components/common/SezioneDocumento.js","components/Documentazione.js","components/Pratica.js","App.js","WidgetElement.js"],"names":["module","exports","getDefaultOptions","headers","Headers","Content-Type","request","_ref","Object","asyncToGenerator","_regeneratorRuntime","mark","_callee","url","options","haveBodyResponse","response","_args","arguments","wrap","_context","prev","next","length","undefined","fetch","sent","status","abrupt","json","Promise","reject","stop","_x","_x2","apply","this","useQuery","URLSearchParams","window","location","search","get","objectSpread","method","put","body","JSON","stringify","apiDeleteDocumento","api_regeneratorRuntime","serviceUrl","documentoId","concat","apiDettaglioPratica","_ref2","_callee2","id","_context2","_x3","_x4","apiDettaglioDocumenti","_ref3","_callee3","_context3","_x5","_x6","apiCambioStato","_ref4","_callee4","nuovoStato","updateStato","_context4","_x7","_x8","_x9","apiInviaEsito","_ref5","_callee5","_context5","_x10","_x11","apiInviaDocumentazione","_ref6","_callee6","_context6","_x12","_x13","apiApprovaDocumenti","_ref7","_callee7","_context7","_x14","_x15","apiNota","_ref8","_callee8","nota","_context8","_x16","_x17","_x18","apiDownloadDocumento","_ref9","_callee9","_context9","responseType","requestBlob","_x19","_x20","apiDownloadDocumentazione","_ref10","_callee10","_context10","_x21","_x22","_ref11","_callee11","header","filename","_context11","console","log","split","blob","then","otherUrl","URL","createObjectURL","a","document","createElement","href","download","click","_x23","_x24","apiUploadDocumento","_ref12","_callee12","key","_context12","resolve","input","type","onchange","event","formData","FormData","target","files","append","name","catch","err","_x25","_x26","K","pratica","nominativoRiferimento","statoPratica","pec","contattoTelefonico","prodotto","periodicita","importoRichiesto","durata","finalita","codiceFiscale","tipiDoc","Dettaglio","buttonAppDoc","isProspect","isAllCaricati","_useState","useState","_useState2","slicedToArray","setPratica","_useState3","_useState4","showModalConferma","setShowModalConferma","getPratica","query","e","useEffect","react_default","Fragment","Modal","show","onHide","Header","closeButton","Title","Body","Form","Group","className","controlId","Label","Footer","Button","variant","onClick","reload","Row","Col","md","ragioneSociale","style","marginLeft","marginRight","color","toFixed","replace","SezioneDocumento","tipoDocumento","classeDocumentoId","statoDocumento","listaDoc","notaFromDoc","update","required","stato","setStato","file","setFile","_useState5","_useState6","uploading","setUploading","_useState7","_useState8","downloading","setDownloading","_useState9","_useState10","fileSelected","setFileSelected","_useState11","_useState12","showModal","setShowModal","_useState13","_useState14","showModalRifiuto","setShowModalRifiuto","_useState15","_useState16","showModalDoc","setShowModalDoc","_useState17","_useState18","setNota","deleteDoc","docId","selectFile","fileIndex","Control","as","rows","onChange","value","idClasseDocumento","reason","map","index","src","MyImage","index_es","position","top","left","cursor","icon","faTimesCircle","getStatoDesc","aria-label","Spinner","animation","size","faUpload","faExclamationCircle","faDownload","Documentazione","valid","nascondiDocs","changeDocsCaricati","setResponse","setStatoPratica","getDocumentazione","toConsumableArray","filter","x","obbligatorio","every","element","listaDocumenti","array","allAreApprovati","downloadAll","SezioneDocumento_SezioneDocumento","Pratica","appDocActive","setAppDocActive","_useKeycloak","useKeycloak","keycloak","initialized","setNascondiDocs","setIsAllCaricati","token","changeVisibilitaDocumenti","faArrowLeft","Dettaglio_Dettaglio","Documentazione_Documentazione","App","Pratica_Pratica","ATTRIBUTES","getKeycloakInstance","entando","Keycloak","realm","clientId","WidgetElement","initServiceUrl","getAttribute","mountPoint","appendChild","ReactDOM","render","lib","authClient","src_App","values","HTMLElement","customElements","define"],"mappings":"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","file":"static/js/main.f9da1ade.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALPSURBVHgBrVVNTxNBGH6mH5RGKDQpCGpsDJ9yQBIF4s1E0fAP4AYcOBgNnDx4JDFcPShHOZBw4NATiZwpkGCBBCHEFIIQrFhaaJAPaSk7vrPDLrv0aw88zWRnZmef951nnnnLYMCP8M93Pp/3Azh3gNEEp8aQH7Rm+9efv6nz1MunTx7N51y38zv6VVEUrsHYz4fva2E+t7CcCIZWnhn5bOYkFEbQx1qfvs9M2DDH1B/K7fwiMLe4+Eqbd/CamsdQlFticDAzUwr//QwiVlQEtLQAp6eAywXY7ab3d+9U4iBxKLref8nkR3o+VL8j8sy0smFqSraODqChIeeyaCy+UVVZUadmrs50dwNuN3B8DDQ3A/v7wCFlkkpJwngcODmh1bTcZtNlMUqYDXKl0wmSBohEgOVlYG8PKC0Fzs5kIA0i4Pa2lIoVspGW+doasLoqA3R1AbEYEA4DodCVGwWZx6MG1Q6zUAAHrdzBwkKZGChud4ktELBB+6ikREogDtTrBY6OgJUVoK0NVqRxsM1N3R47kd2pe9W3VStl3B+RrdBeSJNOS/0LBDD7nF1unxq7fOqYnQXa24GeHmBkRAYrAAcsgk1OAkNDqs95ayswPAx0doKJQxe7qK+na1Rujdy0XXGwTU1AMAgkk/LA/X7VppzcxcSOpqeBgQFr5Dqx0Hd0FBgcBGprdZ+bIOwrICxtOfNAAFhfB/r75bZzYX5eD+BJJCp4cXEfyfUld+bj40B1NeDzybqSDxMTUjIC3fMy2jZlg9zkqrbipvb2ymAG55gqYj6fX5/QD7KvL6eHrVz9rOTZ6nk2qIFFuRgbo1IYvf66inTvNZFfpJXdZOqcDMGMLMbI5jH17Z8+wybqkDmyn+rUG1Nq00tLFW7YnysMLliE51sIjW9fvydCo5026A/lBW4CJMEDKm5b3Onk1LbEGDcJIm8k4iB3ueq0uf+53EgZ/KK4NAAAAABJRU5ErkJggg==\"","export const getDefaultOptions = () => ({\n  headers: new Headers({\n    'Content-Type': 'application/json'\n  })\n});\n\n\nexport const request = async (url, options, haveBodyResponse = true) => {\n  const response = await fetch(url, options);\n  if (response.status === 204) {\n    return {};\n  }\n  if (response.status >= 200 && response.status < 300) {\n    if (haveBodyResponse) {\n      return response.json();\n    }\n    return {};\n  }\n  return Promise.reject(response.status);\n};\n\n\nexport const getIsProspect = () => {\n  return window.keycloak.token === undefined;\n};\n\nexport const useQuery = () => {\n  return new URLSearchParams(window.location.search);\n};\n\n\nexport const getStatoEnum = (stato) => {\n  switch (stato) {\n    case \"In lavorazione\":\n      return \"IN_LAVORAZIONE\";\n    case \"Approvato\":\n      return \"APPROVATO\";\n    case \"Rifiutato\":\n      return \"RIFIUTATO\";\n    default:\n      return null;\n  }\n}\n\nexport const getStatoDesc = (stato) => {\n  switch (stato) {\n    case \"IN_LAVORAZIONE\":\n      return \"In lavorazione\";\n    case \"APPROVATO\":\n      return \"Approvato\";\n    case \"RIFIUTATO\":\n      return \"Rifiutato\";\n    default:\n      return null;\n  }\n\n}\n\n","import {getDefaultOptions, request} from \"./helpers\";\n\nconst get = (url) => {\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET'\n  };\n  return request(url, options);\n};\n\nconst post = (url, body) => {\n  const options = {\n    ...getDefaultOptions(),\n    method: 'POST',\n    body: JSON.stringify(body)\n  };\n  return request(url, options);\n};\n\nconst put = (url, body) => {\n  const options = {\n    ...getDefaultOptions(),\n    method: 'PUT',\n    body: JSON.stringify(body)\n  };\n  return request(url, options);\n};\n\nexport const apiDeleteDocumento = async (serviceUrl, documentoId) => {\n  const url = `${serviceUrl}/api/documento/${documentoId}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'DELETE',\n  };\n  return request(url, options);\n};\n\nexport const apiDettaglioPratica = async (serviceUrl, id) => {\n  return get(`${serviceUrl}/api/pratica/anagrafica?guid=${id}`);\n};\n\nexport const apiDettaglioDocumenti = async (serviceUrl, id) => {\n  return get(`${serviceUrl}/api/documento?guid=${id}`);\n};\n\nexport const apiCambioStato = async (serviceUrl, nuovoStato, updateStato) => {\n  return put(`${serviceUrl}/api/documento/stato`, nuovoStato)\n}\n\nexport const apiInviaEsito = async (serviceUrl, id) => {\n  return put(`${serviceUrl}/api/pratica/stato/istruttoriadocumentale?id=${id}`)\n}\n\nexport const apiInviaDocumentazione = async (serviceUrl, id) => {\n  return put(`${serviceUrl}/api/pratica/stato/controllodocumentale?id=${id}`)\n}\n\nexport const apiApprovaDocumenti = async (serviceUrl, id) => {\n  return put(`${serviceUrl}/api/pratica/approvadocumenti?id=${id}`)\n}\n\nexport const apiNota = async (serviceUrl, id, nota) => {\n  return put(`${serviceUrl}/api/documento/nota?id=${id}`, nota)\n}\n\nexport const apiDownloadDocumento = async (serviceUrl, id) => {\n  const url = `${serviceUrl}/api/documento/${id}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET',\n    responseType: 'blob'\n  };\n  return requestBlob(url, options);\n};\n\nexport const apiDownloadDocumentazione = async (serviceUrl, id) => {\n  const url = `${serviceUrl}/api/documento/download/all?guid=${id}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET',\n    responseType: 'blob'\n  };\n  return requestBlob(url, options);\n};\n\n\nexport const requestBlob = async (url, options) => {\n  const response = await fetch(url, options);\n  if (response.status === 200) {\n    console.log(response.headers.get('Content-Disposition'));\n    const header = response.headers.get('Content-Disposition')\n    const filename = header.split('filename=')[1];\n    response.blob().then(blob => {\n      const otherUrl = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = otherUrl;\n      a.download = filename;\n      a.click();\n    });\n    return null;\n  }\n  return Promise.reject(response.status);\n};\n\nexport const apiUploadDocumento = async (serviceUrl, key) => {\n  return new Promise((resolve, reject) => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.onchange =(event) => {\n      const formData = new FormData();\n      console.log(event.target.files[0])\n      if (event.target.files[0] === undefined){\n        reject()\n      }\n      formData.append(\"nome\", event.target.files[0].name)\n      formData.append(\"file\", event.target.files[0])\n      const url = `${serviceUrl}/api/documento/upload?id=${key}`;\n      const options = {\n        method: 'POST',\n        body: formData\n      };\n      request(url, options)\n        .then(json => {\n          console.log(\"ok\")\n          resolve()\n        })\n        .catch(err => {\n          console.log(err);\n          reject()\n        });\n    }\n    input.click();\n  })\n};\n\n\n// export const apiUploadDocumento = async (data, serviceUrl, key) => {\n//   const url = `${serviceUrl}/api/documento/upload?id=${key}`;\n//   const options = {\n//     method: 'POST',\n//     body: data\n//   };\n//   request(url, options)\n//     .then(json => {\n//       console.log(\"ok\")\n//     })\n//     .catch(err => {\n//       console.log(err);\n//     });\n// }\n\n\n\n","\r\nexport const K = {\r\n\r\n  serviceUrl : null,\r\n\r\n\r\npratica:{\r\n  id : 1111,\r\n  nominativoRiferimento: \"Mario rossi\",\r\n  statoPratica: \"Istruttoria documentale\",\r\n  pec: \"pec@pec.it\",\r\n  contattoTelefonico: \"3486774532\",\r\n  prodotto: \"test\",\r\n  periodicita: \"Annuale\",\r\n  importoRichiesto: \"23000\",\r\n  durata: \"36 mesi\",\r\n  finalita: \"test test\",\r\n  codiceFiscale: \"DDGTHLI65N54J321T\"\r\n\r\n},\r\n\r\ntipiDoc:[\r\n  \"doc 1\", \"doc 2\", \"doc 3\"\r\n]\r\n\r\n};\r\n\r\nexport const initServiceUrl = (serviceUrl) => K.serviceUrl = serviceUrl;\r\n\r\n\r\n","import {Button, Col, Form, Modal, Row} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {apiApprovaDocumenti, apiDettaglioPratica, apiInviaEsito, apiInviaDocumentazione} from \"../http/api\";\nimport {K} from \"../Constants\";\nimport {useQuery} from \"../http/helpers\";\n\nexport const Dettaglio = ({buttonAppDoc, isProspect, isAllCaricati}) => {\n\n  const [pratica, setPratica] = useState({});\n  const [showModalConferma, setShowModalConferma] = useState(false);\n  function currencyFormatDE(num) {\n    return (\n      num\n        .toFixed(2) // always two decimal digits\n        .replace('.', ',') // replace decimal point character with ,\n        .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1.') + ' €'\n    ) // use . as a separator\n  }\n\n const getPratica = (query) => {\n\n    apiDettaglioPratica(K.serviceUrl, query)\n      .then(json => {\n        console.log(json)\n        setPratica(json)\n      })\n      .catch(e => console.log(\"err get pratica\"));\n  };\n\n  const approvaDocumenti = () => {\n    apiApprovaDocumenti(K.serviceUrl, pratica.id)\n      .then(json => {\n        getPratica(query)\n      })\n      .catch(e => console.log(\"err approva\"));\n  };\n\n  const inviaEsito = () => {\n    apiInviaEsito(K.serviceUrl, pratica.id)\n      .catch(e => console.log(\"err invia esito\"));\n    window.location.reload();\n  };\n\n  const inviaDocumentazione = () =>{\n      apiInviaDocumentazione(K.serviceUrl, pratica.id)\n        .catch(e => console.log(\"err invio docs\"))\n      window.location.reload();\n  }\n\n  let query = useQuery().get('guid');\n\n  useEffect(() => {\n    console.log(\"g\" + query)\n    getPratica(query);\n  }, []);\n\n\n  return (\n    <>\n      <Modal show={showModalConferma} onHide={() => setShowModalConferma(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>Conferma invio documentazione</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form>\n            <Form.Group\n              className=\"mb-3\"\n              controlId=\"message\">\n              <Form.Label>Dopo l'invio della documentazione non sarà più possibile effettuare alcuna modifica,\n                sei sicuro di voler continuare?</Form.Label>\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n\n        <Modal.Footer>\n          <Button variant=\"primary\" onClick={() => {\n            inviaDocumentazione();\n            setShowModalConferma(false);\n          }}>Conferma</Button>\n          <Button variant=\"danger\" onClick={() => {\n            setShowModalConferma(false);\n          }}>Annulla</Button>\n        </Modal.Footer>\n      </Modal>\n\n\n      <div className={'white-rounded-shadowed'}>\n        <Row className={'mb-4'}>\n          <Col md={12}>\n            <p className={'desc-text'}>ANAGRAFICA</p>\n          </Col>\n        </Row>\n        <Row className={'mb-2'}>\n          <Col md={10}>\n            <p className={'title'}>{pratica.ragioneSociale}</p>\n          </Col>\n          <Col md={2}>\n            {!isProspect && !buttonAppDoc && pratica.statoPratica !== \"Istruttoria documentale\" &&\n              <button type=\"submit\" className={\"custom-button\"}  onClick={() => inviaEsito()}>Invia Esito Al Cliente</button>\n            }\n\n            {!isProspect && buttonAppDoc && pratica.statoPratica === \"Controllo documentale\" &&\n              <button type=\"submit\" className={\"custom-button\"}  onClick={() => approvaDocumenti()}>Approva Documentazione</button>\n            }\n\n            {isProspect && pratica.statoPratica === \"Istruttoria documentale\" &&\n              <button type=\"submit\" className={`custom-button${isAllCaricati?'':'-disabled'}`}  onClick={() => setShowModalConferma(true)}>Invia Documentazione</button>\n            }\n            </Col>\n        </Row>\n\n        <Row className={'margin-custom-b'}>\n          <Col md={12}>\n            <span className={'desc-text'}>ID</span> <span className={'highlighted-span'}>{pratica.id}</span>\n            <span style={{marginLeft: '1rem', marginRight: '1rem', color: '#7F8297'}}>|</span>\n            <span className={'desc-text'}>STATO PRATICA</span> <span\n            className={'highlighted-span-light'}>{pratica.statoPratica}</span>\n          </Col>\n        </Row>\n\n        <Row className={'mb-4'}>\n          <Col md={5}>\n            <span className={'desc-text'}>Nominativo di riferimento</span> <span\n            className={'highlighted-span-light'}>{pratica.nominativoRiferimento}</span>\n          </Col>\n          <Col md={4}>\n            <span className={'desc-text'}>Contatto Telefonico</span> <span\n            className={'highlighted-span-light'}>{pratica.contattoTelefonico}</span>\n          </Col>\n          <Col md={3}>\n            <span className={'desc-text'}>Importo richiesto</span> <span\n            className={'highlighted-span-light'}>{pratica.importoRichiesto?currencyFormatDE(pratica.importoRichiesto): ''}</span>\n          </Col>\n        </Row>\n\n        <Row className={'mb-4'}>\n          <Col md={5}>\n            <span className={'desc-text'}>PEC</span> <span className={'highlighted-span-light'}>{pratica.pec}</span>\n          </Col>\n          <Col md={4}>\n            <span className={'desc-text'}>Prodotto</span> <span\n            className={'highlighted-span-light'}>{pratica.prodotto}</span>\n          </Col>\n          <Col md={3}>\n            <span className={'desc-text'}>Durata</span> <span\n            className={'highlighted-span-light'}>{pratica.durata}</span>\n          </Col>\n        </Row>\n\n        <Row className={'mb-4'}>\n          <Col md={5}>\n            <span className={'desc-text'}>Codice Fiscale/P.IVA</span> <span\n            className={'highlighted-span-light'}>{pratica.codiceFiscale}</span>\n          </Col>\n          <Col md={4}>\n            <span className={'desc-text'}>Periodicità</span> <span\n            className={'highlighted-span-light'}>{pratica.periodicita}</span>\n          </Col>\n          <Col md={3}>\n            <span className={'desc-text'}>Finalità</span> <span\n            className={'highlighted-span-light'}>{pratica.finalita}</span>\n          </Col>\n        </Row>\n      </div>\n    </>);\n}\n","import {Button, Col, Form, Modal, Row, Spinner} from \"react-bootstrap\";\r\nimport React, {useEffect, useState} from 'react';\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faDownload,\r\n  faExclamationCircle,\r\n  faTimesCircle,\r\n  faUpload\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {K} from \"../../Constants\";\r\nimport {apiCambioStato, apiDeleteDocumento, apiDownloadDocumento, apiNota, apiUploadDocumento} from \"../../http/api\";\r\nimport MyImage from '../../img/image_25.png'\r\nimport {getStatoDesc, getStatoEnum} from \"../../http/helpers\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nexport const SezioneDocumento = ({\r\n                                   tipoDocumento, classeDocumentoId,\r\n                                   statoDocumento, listaDoc, notaFromDoc, isProspect, update, required, statoPratica\r\n                                 }) => {\r\n  const [stato, setStato] = useState(statoDocumento);\r\n  const [file, setFile] = useState();\r\n  const [uploading, setUploading] = useState(false);\r\n  const [downloading, setDownloading] = useState(false);\r\n  const [fileSelected, setFileSelected] = useState();\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showModalRifiuto, setShowModalRifiuto] = useState(false);\r\n  const [showModalDoc, setShowModalDoc] = useState({show: false, id: undefined});\r\n  const [nota, setNota] = useState({nota: null})\r\n\r\n  // const handleClickOutside = event => {\r\n  //   const domNode = ReactDOM.findDOMNode(this);\r\n  //\r\n  //   if (!domNode || !domNode.contains(event.target)) {\r\n  //     setFileSelected(undefined)\r\n  //   }\r\n  // }\r\n\r\n  // useEffect(() => {\r\n  //   document.addEventListener('click', handleClickOutside, true);\r\n  //   return () => {\r\n  //     document.removeEventListener('click', handleClickOutside, true);\r\n  //   };\r\n  // }, []);\r\n\r\n  // const upload = () => {\r\n  //   const input = document.createElement('input');\r\n  //   input.type = 'file';\r\n  //   input.onchange = (event) => {\r\n  //     //setUploading(true);\r\n  //     const data = new FormData();\r\n  //     console.log(event.target.files[0])\r\n  //     data.append(\"nome\", event.target.files[0].name)\r\n  //     data.append(\"file\", event.target.files[0])\r\n  //     apiUploadDocumento(data, K.serviceUrl, classeDocumentoId).then(() => {\r\n  //       //setUploading(false);\r\n  //       update();\r\n  //     })\r\n  //   }\r\n  //   input.click();\r\n  //   //setUploading(true)\r\n  // };\r\n\r\n\r\n  const upload = () => {\r\n    setUploading(true);\r\n    apiUploadDocumento(K.serviceUrl, classeDocumentoId)\r\n      .then(() => {\r\n        setUploading(false);\r\n        console.log(\"uploaded\")\r\n        update()\r\n      }, () => setUploading(false));\r\n  };\r\n\r\n  const deleteDoc = (docId) => {\r\n    apiDeleteDocumento(K.serviceUrl, docId)\r\n      .then(() => update());\r\n  };\r\n\r\n  // const updateStato = (stato) => {\r\n  //   setStato(stato)\r\n  // };\r\n\r\n  const selectFile = (file, fileIndex) => {\r\n    setFile(file);\r\n    setFileSelected(fileIndex)\r\n  };\r\n\r\n  const handleChange = event => {\r\n    if (event.target.value === 'RIFIUTATO') {\r\n      setShowModal(true );\r\n    }else{\r\n    apiCambioStato(K.serviceUrl, {idClasseDocumento: classeDocumentoId, stato: event.target.value})\r\n      .then(() => {\r\n        setStato(event.target.value)\r\n        console.log(stato)\r\n        update();\r\n      })\r\n    }\r\n  };\r\n\r\n  const invia = () => {\r\n     apiCambioStato(K.serviceUrl, {idClasseDocumento: classeDocumentoId, stato: \"RIFIUTATO\"})\r\n      .then(() => {\r\n        apiNota(K.serviceUrl, classeDocumentoId, nota).then(() => {\r\n          console.log('ok nota')\r\n          update();\r\n        }).catch(reason => console.log(reason))\r\n\r\n      })\r\n\r\n  }\r\n\r\n  const handleNota = (e) => {\r\n    setNota(e.target.value);\r\n  }\r\n\r\n  const handleHide = () => {\r\n    setShowModal(false);\r\n    update();\r\n    console.log(stato);\r\n  }\r\n\r\n\r\n  const download = (id) => {\r\n    if (id === undefined) return;\r\n    console.log(\"downloading\")\r\n    setDownloading(true);\r\n    return apiDownloadDocumento(K.serviceUrl, id).then( () => {\r\n      setDownloading(false);\r\n    }, () => setUploading(false));\r\n  };\r\n  return (<>\r\n      <Modal show={showModal} onHide={() => { setShowModal(false)}}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Non Accettare</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Group\r\n              className=\"mb-3\"\r\n              controlId=\"message\">\r\n              <Form.Label>Inserisci motivo del rifiuto da notificare al cliente specificando i documenti da\r\n                ricaricare</Form.Label>\r\n              <Form.Control as=\"textarea\" rows={3} onChange={(event) => handleNota(event)}/>\r\n            </Form.Group>\r\n          </Form>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={() => {\r\n            invia();\r\n            setShowModal(false);\r\n          }}>Invia</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n\r\n      <Modal show={showModalRifiuto} onHide={() => {setShowModalRifiuto(false);}}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Documentazione Rifiutata</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>{notaFromDoc}</p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={() => {\r\n            setShowModalRifiuto(false);\r\n          }}>Ok</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n\r\n      <Modal show={showModalDoc.show} onHide={() => setShowModalDoc({show: false, id: undefined})}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Cancella</Modal.Title>\r\n        </Modal.Header>\r\n\r\n        <Modal.Body>\r\n          <p>Sei sicuro di voler eliminare il documento?\r\n          </p>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowModalDoc({show: false, id: undefined})}>No</Button>\r\n          <Button variant=\"primary\" onClick={() => {\r\n            deleteDoc(showModalDoc.id);\r\n            setShowModalDoc({show: false, id: undefined});\r\n          }}>Si</Button>\r\n        </Modal.Footer>\r\n\r\n      </Modal>\r\n\r\n      <Row className={'mt-2 p-2'}>\r\n        <Col md={5}>\r\n          <p className={ `margin-custom-l document-text ${required?\"required\":\"\"}`}>{tipoDocumento}</p>\r\n        </Col>\r\n        {tipoDocumento !== \"Altro\" ?\r\n          <>\r\n            <Col md={3} className={'align-to-end '}>\r\n              {listaDoc.map((value, index) => (\r\n                <span key={value.id}\r\n                      className={'p-1 me-1  border border-3 position-relative ' + ((fileSelected === index) ? 'rounded border-primary ' : 'border-white')}>\r\n            <img src={MyImage} onClick={event => selectFile(value.id, index)}/>\r\n                  {fileSelected === index && isProspect &&\r\n                    <FontAwesomeIcon\r\n                      style={{position: 'absolute', top: '-75%', left: '25%', color: '#0275d8', cursor: 'pointer'}}\r\n                      icon={faTimesCircle} onClick={() => setShowModalDoc({show: true, id: value.id})}/>}\r\n          </span>\r\n              ))}\r\n            </Col>\r\n            {listaDoc.length > 0 ?\r\n              <Col md={2} className={' d-flex justify-content-center '}>\r\n                {isProspect ? <p\r\n                    className={listaDoc.length > 0 ? statoDocumento : ''}>{listaDoc.length > 0 ? getStatoDesc(statoDocumento) : ''}</p> :\r\n                  <select className={`form-select-xs ${statoDocumento}-select`} aria-label=\"Default select example\"\r\n                          value={statoDocumento} onChange={handleChange}>\r\n                    <option value=\"APPROVATO\">Approvato</option>\r\n                    <option value=\"IN_LAVORAZIONE\">In Lavorazione</option>\r\n                    <option value=\"RIFIUTATO\">Rifiutato</option>\r\n                  </select>\r\n                }\r\n              </Col> :\r\n              <Col md={2}>\r\n\r\n              </Col>\r\n            }\r\n          </>\r\n          :\r\n\r\n          <Col md={5} className={'align-to-end'}>\r\n\r\n            {listaDoc.map((value, index) => (\r\n              <span key={value.id}\r\n                    className={'p-1 me-1  border border-3 position-relative ' + ((fileSelected === index) ? 'rounded border-primary ' : 'border-white')}>\r\n          <img src={MyImage} onClick={event => selectFile(value.id, index)}/>\r\n                {fileSelected === index && isProspect &&\r\n                  <FontAwesomeIcon\r\n                    style={{position: 'absolute', top: '-75%', left: '25%', color: '#0275d8', cursor: 'pointer'}}\r\n                    icon={faTimesCircle} onClick={() => deleteDoc(value.id)}/>}\r\n          </span>))\r\n            }\r\n          </Col>\r\n        }\r\n        <Col md={2} className={'align-content-left'}>\r\n          {isProspect ?\r\n            <>\r\n            {statoPratica !== \"Controllo documentale\" &&\r\n              <button className={'upload-buttons'} onClick={() => upload()}>\r\n                {uploading && <Spinner animation=\"border\" variant=\"secondary\" size=\"sm\"/>}\r\n          <span className={'highlighted-span document-text secondary-color'}>Carica\r\n            <FontAwesomeIcon icon={faUpload} className={'primary-color mx-1'}></FontAwesomeIcon></span>\r\n              </button>}\r\n              {(notaFromDoc && statoDocumento !== 'APPROVATO') &&\r\n                  <FontAwesomeIcon icon={faExclamationCircle} className={'primary-color fa-lg mx-2 pointer-icon'}\r\n                                   onClick={(event) => setShowModalRifiuto(true)}></FontAwesomeIcon>\r\n                }\r\n            </>\r\n            :\r\n            <>\r\n              <button className={'upload-buttons'} onClick={() => download(file)}>\r\n                {downloading && <Spinner animation=\"border\" variant=\"secondary\" size=\"sm\"/>}\r\n          <span className={'highlighted-span document-text secondary-color'}>Scarica\r\n            <FontAwesomeIcon icon={faDownload} className={'primary-color mx-1'}></FontAwesomeIcon></span>\r\n              </button>\r\n\r\n            </>\r\n          }\r\n        </Col>\r\n        <hr/>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n\r\n","import {Col, Row} from \"react-bootstrap\";\nimport React, {useEffect, useState} from 'react';\nimport {SezioneDocumento} from \"./common/SezioneDocumento\";\nimport {K} from \"../Constants\";\nimport {apiDettaglioDocumenti, apiDettaglioPratica, apiDownloadDocumentazione} from \"../http/api\";\nimport {useQuery} from \"../http/helpers\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faDownload} from \"@fortawesome/free-solid-svg-icons\";\n\n\nexport const Documentazione = ({isProspect, valid, nascondiDocs, changeDocsCaricati}) => {\n\n  let query = useQuery().get('guid');\n  const [response, setResponse] = useState([]);\n  const [statoPratica, setStatoPratica] = useState();\n  function allAreApprovati(array) {\n    console.log(array);\n    return array.filter(x => x.listaDocumenti.length >0).every(element => {\n      return element.statoDocumento === \"APPROVATO\";\n    });\n  }\n\n  function allAreCaricati(array){\n    return array.filter(x=>x.obbligatorio).every(element => {\n      return element.listaDocumenti.length > 0;\n    });\n  }\n\n  const getDocumentazione = () => {\n    let query = useQuery().get('guid');\n    apiDettaglioDocumenti(K.serviceUrl, query)\n      .then(json => {\n        setResponse([...json]);\n        changeDocsCaricati(allAreCaricati(json));\n        valid(allAreApprovati(json));\n      })\n      .catch(e => console.log(e));\n  };\n\n  const getStatoPratica = () => {\n    apiDettaglioPratica(K.serviceUrl, query).then(json => {\n      setStatoPratica(json.statoPratica)\n    })\n  }\n\n\n\n  const downloadAll = () => {\n    let query = useQuery().get('guid');\n    return apiDownloadDocumentazione(K.serviceUrl, query);\n  };\n\n\n  useEffect(() => {\n    getDocumentazione();\n    getStatoPratica();\n  }, []);\n\n  const docs = (\n    <>\n      <p>TEST</p>\n    </>\n  )\n\n  return (\n    <>\n      {!isProspect && nascondiDocs &&\n        <div className={'white-rounded-shadowed mt-4'}>\n          <Col md={1}>\n\n            <p className={'desc-text'}>DOCUMENTAZIONE</p>\n          </Col>\n          <p className={'title text-center'}>In attesa della documentazione del cliente</p>\n        </div>}\n\n      { (!nascondiDocs && !isProspect  || isProspect) &&\n        <div className={'white-rounded-shadowed mt-4'}>\n        <Row className={'align-to-end'}>\n          <Col md={1}>\n            <p className={'desc-text'}>DOCUMENTAZIONE</p>\n          </Col>\n          <Col md={11}>\n            <p className={'desc-text'}>*Campi Obbligatori</p>\n          </Col>\n        </Row>\n        {!isProspect &&\n          <Row className={'align-to-end'}>\n            <Col md={13}>\n        <span className={'primary-color btn'} onClick={() => downloadAll()}>Scarica tutto\n            <FontAwesomeIcon icon={faDownload} className={' ms-1 primary-color'}></FontAwesomeIcon></span>\n            </Col>\n          </Row>}\n\n        <Row className={'align-to-start mt-4'}>\n          <Col md={5}>\n            <p className={'desc-text margin-custom-l'}>DOCUMENTI {isProspect?\"DA CARICARE\":\"\"}</p>\n          </Col>\n          <Col md={3}>\n            <p className={'desc-text'}>FILE</p>\n          </Col>\n          <Col md={2}>\n            <p className={'desc-text'}>STATO</p>\n          </Col>\n          <Col md={2}></Col>\n        </Row>\n        {response\n          .filter(value => {\n            return value.tipoDocumento !== \"Altro\"\n          })\n          .map((value, index) => <SezioneDocumento key={index} tipoDocumento={value.tipoDocumento}\n                                                   classeDocumentoId={value.idClasseDocumento}\n                                                   statoDocumento={value.statoDocumento}\n                                                   statoPratica={statoPratica}\n                                                   listaDoc={value.listaDocumenti}\n                                                   notaFromDoc={value.nota}\n                                                   isProspect={isProspect}\n                                                   update={getDocumentazione} required={value.obbligatorio}/>)\n        }\n\n\n      </div>}\n      { (!nascondiDocs && !isProspect  || isProspect) &&\n      <div className={'white-rounded-shadowed mt-4'}>\n        <Row className={'align-to-start'}>\n          <Col md={12}>\n            <p className={'desc-text'}>DOCUMENTAZIONE AGGIUNTIVA</p>\n          </Col>\n        </Row>\n\n        <Row className={'align-to-start mt-4'}>\n          <Col md={10}>\n            <p className={'desc-text margin-custom-l'}>CARICA DOCUMENTI</p>\n          </Col>\n\n          <Col md={2}></Col>\n        </Row>\n        {response.filter(value => value.tipoDocumento === \"Altro\").map((value, index) => <SezioneDocumento key={index}\n                                                                                                           tipoDocumento={value.tipoDocumento}\n                                                                                                           classeDocumentoId={value.idClasseDocumento}\n                                                                                                           statoDocumento={value.statoDocumento}\n                                                                                                           statoPratica={statoPratica}\n                                                                                                           nota={value.nota}\n                                                                                                           listaDoc={value.listaDocumenti}\n                                                                                                           isProspect={isProspect}\n                                                                                                           update={getDocumentazione}/>)}\n\n\n      </div>}\n    </>);\n}\n","import React, {useEffect, useState} from 'react';\nimport {Dettaglio} from \"./Dettaglio\";\nimport {Documentazione} from \"./Documentazione\";\nimport {getIsProspect, useQuery} from \"../http/helpers\";\nimport {apiDettaglioDocumenti, apiDettaglioPratica} from \"../http/api\";\nimport {K} from \"../Constants\";\nimport {useKeycloak} from \"@react-keycloak/web\";\nimport {Row} from \"react-bootstrap\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\n\nexport const Pratica = () => {\n\n  const [appDocActive, setAppDocActive] = useState(false);\n  const { keycloak, initialized } = useKeycloak();\n  const [nascondiDocs, setNascondiDocs] = useState(false)\n  const [isAllCaricati, setIsAllCaricati] = useState(false)\n  console.log(keycloak.token)\n\n\n  const valid = (value) => {\n    setAppDocActive(value);\n  };\n\n  const changeVisibilitaDocumenti = () => {\n    let query = useQuery().get('guid');\n    apiDettaglioPratica(K.serviceUrl, query).then(json => {\n      console.log(\"stato pratica:\" + json.statoPratica)\n      setNascondiDocs(json.statoPratica === \"Istruttoria documentale\")\n    })\n      .catch(e => console.log(e));\n  }\n\n  const changeDocsCaricati = (isAllCaricati) =>{\n    setIsAllCaricati(isAllCaricati);\n  }\n\n  useEffect(() => {\n    changeVisibilitaDocumenti();\n  }, []);\n\n  return (\n    <>\n      <div className={'back-col '}>\n        {!keycloak.token === undefined &&\n          <button  className={'custom-button m-3'} onClick={event =>window.location.href = \"/entando-de-app/en/lista_richieste.page\"}>\n          <FontAwesomeIcon icon={faArrowLeft}/> Torna alla lista\n        </button>}\n        {keycloak.token === undefined &&\n          <button  className={'custom-button m-3'} onClick={event =>window.location.href = \"/entando-de-app\"}>\n            <FontAwesomeIcon icon={faArrowLeft}/> Torna alla home\n          </button>}\n        <Dettaglio buttonAppDoc={appDocActive} isAllCaricati={isAllCaricati} isProspect={keycloak.token === undefined}   update={changeVisibilitaDocumenti}/>\n        <Documentazione isProspect={keycloak.token === undefined} valid={valid} nascondiDocs={nascondiDocs}\n                        changeDocsCaricati={changeDocsCaricati}/>\n      </div>\n    </>);\n}\n\n\n","import './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React from 'react';\r\nimport {Pratica} from \"./components/Pratica\";\r\n\r\nfunction App() {\r\n\r\n  // const { keycloak, initialized } = useKeycloak()\r\n  // if (keycloak.authenticated) {\r\n  //   initApplicationConstants();\r\n  //   checkNewUser();\r\n  // }\r\n\r\n  return (\r\n<Pratica/>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {initServiceUrl} from \"./Constants\";\r\nimport Keycloak from \"keycloak-js\";\r\nimport {ReactKeycloakProvider} from \"@react-keycloak/web\";\r\n\r\n\r\nconst ATTRIBUTES = {\r\n  serviceUrl: 'service-url',\r\n};\r\n\r\nconst getKeycloakInstance = () =>\r\n  (window &&\r\n    window.entando &&\r\n    window.entando.keycloak && {...window.entando.keycloak, initialized: true}) || {\r\n    initialized: false,\r\n  };\r\n\r\nconst keycloakConfig = {\r\n  realm: 'entando',\r\n  clientId: 'entando-web',\r\n  url: 'http://34.78.126.51.nip.io/auth'\r\n}\r\nconst keycloak = new Keycloak(keycloakConfig)\r\nwindow.keycloak = keycloak\r\n\r\nclass WidgetElement extends HTMLElement {\r\n\r\n  keycloak = getKeycloakInstance();\r\n\r\n  static get observedAttributes() {\r\n    return Object.values(ATTRIBUTES);\r\n  }\r\n\r\n  connectedCallback() {\r\n    const serviceUrl = this.getAttribute(\"service-url\")\r\n    initServiceUrl(serviceUrl);\r\n\r\n    this.mountPoint = document.createElement('div');\r\n    this.appendChild(this.mountPoint);\r\n    this.keycloak = {...getKeycloakInstance(), initialized: true};\r\n\r\n    console.log(window.keycloak)\r\n\r\n    ReactDOM.render(\r\n      <ReactKeycloakProvider authClient={keycloak}>\r\n        <App/>\r\n      </ReactKeycloakProvider>\r\n      , this.mountPoint);\r\n  }\r\n}\r\n\r\n\r\ncustomElements.define('pratica-widget', WidgetElement);\r\n\r\nexport default WidgetElement;\r\n\r\n"],"sourceRoot":""}