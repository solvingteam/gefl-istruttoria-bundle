{"version":3,"sources":["img/image_25.png","http/helpers.js","http/api.js","Constants.js","components/Dettaglio.js","components/common/SezioneDocumento.js","components/Documentazione.js","components/Pratica.js","App.js","WidgetElement.js"],"names":["module","exports","getDefaultOptions","headers","Headers","Content-Type","request","_ref","Object","asyncToGenerator","_regeneratorRuntime","mark","_callee","url","options","haveBodyResponse","response","_args","arguments","wrap","_context","prev","next","length","undefined","fetch","sent","status","abrupt","json","Promise","reject","stop","_x","_x2","apply","this","getIsProspect","window","keycloak","token","JSON","parse","atob","split","groups","includes","useQuery","URLSearchParams","location","search","get","objectSpread","method","put","body","stringify","apiDeleteDocumento","api_regeneratorRuntime","serviceUrl","documentoId","concat","apiDettaglioPratica","_ref2","_callee2","id","_context2","_x3","_x4","apiDettaglioDocumenti","_ref3","_callee3","_context3","_x5","_x6","apiCambioStato","_ref4","_callee4","nuovoStato","_context4","_x7","_x8","apiInviaEsito","_ref5","_callee5","_context5","_x9","_x10","apiInviaDocumentazione","_ref6","_callee6","_context6","_x11","_x12","apiApprovaDocumenti","_ref7","_callee7","_context7","_x13","_x14","apiNota","_ref8","_callee8","nota","_context8","_x15","_x16","_x17","apiDownloadDocumento","_ref9","_callee9","setDownloading","_context9","responseType","requestBlob","finally","_x18","_x19","_x20","apiDownloadDocumentazione","_ref10","_callee10","_context10","_x21","_x22","_x23","_ref11","_callee11","header","filename","_context11","console","log","blob","then","otherUrl","URL","createObjectURL","a","document","createElement","href","download","click","_x24","_x25","_x26","apiUploadDocumento","_ref12","_callee12","key","setUploading","_context12","resolve","input","type","onchange","event","formData","FormData","target","files","append","name","catch","err","_x27","_x28","_x29","K","pratica","nominativoRiferimento","statoPratica","pec","contattoTelefonico","prodotto","periodicita","importoRichiesto","durata","finalita","codiceFiscale","categorie","tipiDoc","Dettaglio","buttonAppDoc","buttonEsito","isProspect","isAllCaricati","update","_useState","useState","_useState2","slicedToArray","setPratica","_useState3","_useState4","showModalConferma","setShowModalConferma","getPratica","query","e","useEffect","react_default","Fragment","Modal","show","onHide","Header","closeButton","Title","Body","Form","Group","className","controlId","Label","Footer","Button","variant","onClick","reload","Row","Col","md","ragioneSociale","style","marginLeft","marginRight","color","toFixed","replace","SezioneDocumento","tipoDocumento","classeDocumentoId","statoDocumento","listaDoc","notaFromDoc","required","stato","setStato","file","setFile","_useState5","_useState6","uploading","_useState7","_useState8","downloading","_useState9","_useState10","fileSelected","setFileSelected","_useState11","_useState12","showModal","setShowModal","_useState13","_useState14","showModalRifiuto","setShowModalRifiuto","_useState15","_useState16","showModalDoc","setShowModalDoc","_useState17","_useState18","setNota","selectFile","fileIndex","handleDeleteDocumento","Control","as","rows","onChange","value","idClasseDocumento","reason","docId","map","index","title","fileName","src","MyImage","index_es","position","top","left","cursor","icon","faTimesCircle","getStatoDesc","aria-label","disabled","Spinner","animation","size","faUpload","faExclamationCircle","faDownload","Documentazione","appDocValid","esitoValid","setResponse","setStatoPratica","getDocumentazione","toConsumableArray","filter","y","x","listaDocumenti","every","element","array","allAreNotInLavorazione","categoria","toString","toUpperCase","setTimeout","downloadAll","sezione","SezioneDocumento_SezioneDocumento","obbligatorio","Pratica","appDocActive","setAppDocActive","esitoActive","setEsitoActive","_useKeycloak","useKeycloak","initialized","setIsAllCaricati","controllaDocsCaricati","changeVisibilitaDocumenti","faArrowLeft","Dettaglio_Dettaglio","Documentazione_Documentazione","changeDocsCaricati","App","Pratica_Pratica","ATTRIBUTES","getKeycloakInstance","entando","Keycloak","realm","clientId","WidgetElement","initServiceUrl","getAttribute","mountPoint","appendChild","ReactDOM","render","lib","authClient","src_App","values","HTMLElement","customElements","define"],"mappings":"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","file":"static/js/main.b3968bfe.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALPSURBVHgBrVVNTxNBGH6mH5RGKDQpCGpsDJ9yQBIF4s1E0fAP4AYcOBgNnDx4JDFcPShHOZBw4NATiZwpkGCBBCHEFIIQrFhaaJAPaSk7vrPDLrv0aw88zWRnZmef951nnnnLYMCP8M93Pp/3Azh3gNEEp8aQH7Rm+9efv6nz1MunTx7N51y38zv6VVEUrsHYz4fva2E+t7CcCIZWnhn5bOYkFEbQx1qfvs9M2DDH1B/K7fwiMLe4+Eqbd/CamsdQlFticDAzUwr//QwiVlQEtLQAp6eAywXY7ab3d+9U4iBxKLref8nkR3o+VL8j8sy0smFqSraODqChIeeyaCy+UVVZUadmrs50dwNuN3B8DDQ3A/v7wCFlkkpJwngcODmh1bTcZtNlMUqYDXKl0wmSBohEgOVlYG8PKC0Fzs5kIA0i4Pa2lIoVspGW+doasLoqA3R1AbEYEA4DodCVGwWZx6MG1Q6zUAAHrdzBwkKZGChud4ktELBB+6ikREogDtTrBY6OgJUVoK0NVqRxsM1N3R47kd2pe9W3VStl3B+RrdBeSJNOS/0LBDD7nF1unxq7fOqYnQXa24GeHmBkRAYrAAcsgk1OAkNDqs95ayswPAx0doKJQxe7qK+na1Rujdy0XXGwTU1AMAgkk/LA/X7VppzcxcSOpqeBgQFr5Dqx0Hd0FBgcBGprdZ+bIOwrICxtOfNAAFhfB/r75bZzYX5eD+BJJCp4cXEfyfUld+bj40B1NeDzybqSDxMTUjIC3fMy2jZlg9zkqrbipvb2ymAG55gqYj6fX5/QD7KvL6eHrVz9rOTZ6nk2qIFFuRgbo1IYvf66inTvNZFfpJXdZOqcDMGMLMbI5jH17Z8+wybqkDmyn+rUG1Nq00tLFW7YnysMLliE51sIjW9fvydCo5026A/lBW4CJMEDKm5b3Onk1LbEGDcJIm8k4iB3ueq0uf+53EgZ/KK4NAAAAABJRU5ErkJggg==\"","export const getDefaultOptions = () => ({\r\n  headers: new Headers({\r\n    'Content-Type': 'application/json'\r\n  })\r\n});\r\n\r\n\r\nexport const request = async (url, options, haveBodyResponse = true) => {\r\n  const response = await fetch(url, options);\r\n  if (response.status === 204) {\r\n    return {};\r\n  }\r\n  if (response.status >= 200 && response.status < 300) {\r\n    if (haveBodyResponse) {\r\n      return response.json();\r\n    }\r\n    return {};\r\n  }\r\n  return Promise.reject(response.status);\r\n};\r\n\r\n\r\nexport const getIsProspect = () => {\r\n  return (window.keycloak.token === undefined || JSON.parse(atob(window.keycloak.token.split('.')[1])).groups.includes('/prospect'));\r\n};\r\n\r\nexport const useQuery = () => {\r\n  return new URLSearchParams(window.location.search);\r\n};\r\n\r\n\r\nexport const getStatoEnum = (stato) => {\r\n  switch (stato) {\r\n    case \"In lavorazione\":\r\n      return \"IN_LAVORAZIONE\";\r\n    case \"Approvato\":\r\n      return \"APPROVATO\";\r\n    case \"Rifiutato\":\r\n      return \"RIFIUTATO\";\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nexport const getStatoDesc = (stato) => {\r\n  switch (stato) {\r\n    case \"IN_LAVORAZIONE\":\r\n      return \"In lavorazione\";\r\n    case \"APPROVATO\":\r\n      return \"Approvato\";\r\n    case \"RIFIUTATO\":\r\n      return \"Rifiutato\";\r\n    default:\r\n      return null;\r\n  }\r\n\r\n}\r\n\r\n","import {getDefaultOptions, request} from \"./helpers\";\n\nconst get = (url) => {\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET'\n  };\n  return request(url, options);\n};\n\nconst post = (url, body) => {\n  const options = {\n    ...getDefaultOptions(),\n    method: 'POST',\n    body: JSON.stringify(body)\n  };\n  return request(url, options);\n};\n\nconst put = (url, body) => {\n  const options = {\n    ...getDefaultOptions(),\n    method: 'PUT',\n    body: JSON.stringify(body)\n  };\n  return request(url, options);\n};\n\nexport const apiDeleteDocumento = async (serviceUrl, documentoId) => {\n  const url = `${serviceUrl}/api/documento/${documentoId}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'DELETE',\n  };\n  return request(url, options);\n};\n\nexport const apiDettaglioPratica = async (serviceUrl, id) => {\n  return get(`${serviceUrl}/api/pratica/anagrafica?guid=${id}`);\n};\n\nexport const apiDettaglioDocumenti = async (serviceUrl, id) => {\n  return get(`${serviceUrl}/api/documento?guid=${id}`);\n};\n\nexport const apiCambioStato = async (serviceUrl, nuovoStato) => {\n  return put(`${serviceUrl}/api/documento/stato`, nuovoStato)\n}\n\nexport const apiInviaEsito = async (serviceUrl, id) => {\n  return put(`${serviceUrl}/api/pratica/stato/istruttoriadocumentale?id=${id}`)\n}\n\nexport const apiInviaDocumentazione = async (serviceUrl, id) => {\n  return put(`${serviceUrl}/api/pratica/stato/controllodocumentale?id=${id}`)\n}\n\nexport const apiApprovaDocumenti = async (serviceUrl, id) => {\n  return put(`${serviceUrl}/api/pratica/approvadocumenti?id=${id}`)\n}\n\nexport const apiNota = async (serviceUrl, id, nota) => {\n  return put(`${serviceUrl}/api/documento/nota?id=${id}`, nota)\n}\n\nexport const apiDownloadDocumento = async (serviceUrl, id, setDownloading) => {\n  const url = `${serviceUrl}/api/documento/${id}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET',\n    responseType: 'blob'\n  };\n  return requestBlob(url, options).finally(setDownloading(false));\n};\n\nexport const apiDownloadDocumentazione = async (serviceUrl, id, setDownloading) => {\n  setDownloading(true)\n  const url = `${serviceUrl}/api/documento/download/all?guid=${id}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET',\n    responseType: 'blob'\n  };\n  return requestBlob(url, options).finally(setDownloading(false));\n};\n\n\nexport const requestBlob = async (url, options ,setDownloading) => {\n  const response = await fetch(url, options);\n  if (response.status === 200) {\n    console.log(response.headers.get('Content-Disposition'));\n    const header = response.headers.get('Content-Disposition')\n    const filename = header.split('filename=')[1];\n    response.blob().then(blob => {\n      const otherUrl = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = otherUrl;\n      a.download = filename;\n      a.click();\n    });\n    return null;\n  }\n  return Promise.reject(response.status);\n};\n\nexport const apiUploadDocumento = async (serviceUrl, key, setUploading) => {\n  return new Promise((resolve, reject) => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.onchange =(event) => {\n      setUploading(true)\n      const formData = new FormData();\n      console.log(event.target.files[0])\n      if (event.target.files[0] === undefined){\n        reject()\n      }\n      formData.append(\"nome\", event.target.files[0].name)\n      formData.append(\"file\", event.target.files[0])\n      const url = `${serviceUrl}/api/documento/upload?id=${key}`;\n      const options = {\n        method: 'POST',\n        body: formData\n      };\n      request(url, options)\n        .then(json => {\n          console.log(\"ok\")\n          resolve()\n        })\n        .catch(err => {\n          console.log(err);\n          reject()\n        });\n    }\n    input.click();\n  })\n};\n\n\n// export const apiUploadDocumento = async (data, serviceUrl, key) => {\n//   const url = `${serviceUrl}/api/documento/upload?id=${key}`;\n//   const options = {\n//     method: 'POST',\n//     body: data\n//   };\n//   request(url, options)\n//     .then(json => {\n//       console.log(\"ok\")\n//     })\n//     .catch(err => {\n//       console.log(err);\n//     });\n// }\n\n\n\n","\nexport const K = {\n\n  serviceUrl : null,\n\n\npratica:{\n  id : 1111,\n  nominativoRiferimento: \"Mario rossi\",\n  statoPratica: \"Istruttoria documentale\",\n  pec: \"pec@pec.it\",\n  contattoTelefonico: \"3486774532\",\n  prodotto: \"test\",\n  periodicita: \"Annuale\",\n  importoRichiesto: \"23000\",\n  durata: \"36 mesi\",\n  finalita: \"test test\",\n  codiceFiscale: \"DDGTHLI65N54J321T\"\n\n},\n\ncategorie:[\n    \"Documenti richiesta di finanziamento\",\n    \"Anagrafica aziendale\",\n    \"Documenti istruttoria\"\n],\n\ntipiDoc:[\n  \"doc 1\", \"doc 2\", \"doc 3\"\n]\n\n\n\n};\n\nexport const initServiceUrl = (serviceUrl) => K.serviceUrl = serviceUrl;\n\n\n","import {Button, Col, Form, Modal, Row} from \"react-bootstrap\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {apiApprovaDocumenti, apiDettaglioPratica, apiInviaEsito, apiInviaDocumentazione} from \"../http/api\";\r\nimport {K} from \"../Constants\";\r\nimport {useQuery} from \"../http/helpers\";\r\n\r\nexport const Dettaglio = ({buttonAppDoc,buttonEsito, isProspect, isAllCaricati, update}) => {\r\n\r\n  const [pratica, setPratica] = useState({});\r\n  const [showModalConferma, setShowModalConferma] = useState(false);\r\n  function currencyFormatDE(num) {\r\n    return (\r\n      num\r\n        .toFixed(2) // always two decimal digits\r\n        .replace('.', ',') // replace decimal point character with ,\r\n        .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1.') + ' €'\r\n    ) // use . as a separator\r\n  }\r\n\r\n const getPratica = (query) => {\r\n\r\n    apiDettaglioPratica(K.serviceUrl, query)\r\n      .then(json => {\r\n        setPratica(json)\r\n      })\r\n      .catch(e => console.log(\"err get pratica\"));\r\n  };\r\n\r\n  const approvaDocumenti = () => {\r\n    apiApprovaDocumenti(K.serviceUrl, pratica.id)\r\n      .then(json => {\r\n        getPratica(query)\r\n      })\r\n      .catch(e => console.log(\"err approva\"));\r\n  };\r\n\r\n  const inviaEsito = () => {\r\n    apiInviaEsito(K.serviceUrl, pratica.id)\r\n      .catch(e => console.log(\"err invia esito\"));\r\n    window.location.reload();\r\n  };\r\n\r\n  const inviaDocumentazione = () =>{\r\n      apiInviaDocumentazione(K.serviceUrl, pratica.id)\r\n        .catch(e => console.log(\"err invio docs\"))\r\n      window.location.reload();\r\n  }\r\n\r\n  let query = useQuery().get('guid');\r\n\r\n  useEffect(() => {\r\n    update();\r\n    getPratica(query);\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <>\r\n\r\n\r\n      <Modal show={showModalConferma} onHide={() => setShowModalConferma(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Conferma invio documentazione</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Group\r\n              className=\"mb-3\"\r\n              controlId=\"message\">\r\n              <Form.Label>Dopo l'invio della documentazione non sarà più possibile effettuare alcuna modifica,\r\n                sei sicuro di voler continuare?</Form.Label>\r\n            </Form.Group>\r\n          </Form>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={() => {\r\n            inviaDocumentazione();\r\n            setShowModalConferma(false);\r\n          }}>Conferma</Button>\r\n          <Button variant=\"danger\" onClick={() => {\r\n            setShowModalConferma(false);\r\n          }}>Annulla</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n\r\n      <div className={'white-rounded-shadowed'}>\r\n        <Row className={'mb-4'}>\r\n          <Col md={12}>\r\n            <p className={'desc-text'}>ANAGRAFICA</p>\r\n          </Col>\r\n        </Row>\r\n        <Row className={'mb-2'}>\r\n          <Col md={10}>\r\n            <p className={'pratica-title'}>{pratica.ragioneSociale}</p>\r\n          </Col>\r\n          <Col md={2}>\r\n            {!isProspect && buttonAppDoc===false && pratica.statoPratica !== \"Istruttoria documentale\" &&\r\n              <button type=\"submit\" className={\"custom-button\" + (buttonEsito?\"\":\"-disabled\")}  onClick={() => inviaEsito()}>Invia Esito Al Cliente</button>\r\n            }\r\n\r\n            {!isProspect && buttonAppDoc===true && pratica.statoPratica === \"Controllo documentale\" &&\r\n              <button type=\"submit\" className={\"custom-button\"}  onClick={() => approvaDocumenti()}>Approva Documentazione</button>\r\n            }\r\n\r\n            {isProspect && pratica.statoPratica === \"Istruttoria documentale\" &&\r\n              <button type=\"submit\" className={`custom-button${isAllCaricati?'':'-disabled'}`}  onClick={() => setShowModalConferma(true)}>Invia Documentazione</button>\r\n            }\r\n            </Col>\r\n        </Row>\r\n\r\n        <Row className={'margin-custom-b'}>\r\n          <Col md={12}>\r\n            <span className={'desc-text'}>ID</span> <span className={'highlighted-span'}>{pratica.id}</span>\r\n            <span style={{marginLeft: '1rem', marginRight: '1rem', color: '#7F8297'}}>|</span>\r\n            <span className={'desc-text'}>STATO PRATICA</span> <span\r\n            className={'highlighted-span-light'}>{pratica.statoPratica}</span>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row className={'mb-4'}>\r\n          <Col md={5}>\r\n            <span className={'desc-text'}>Nominativo di riferimento</span> <span\r\n            className={'highlighted-span-light'}>{pratica.nominativoRiferimento}</span>\r\n          </Col>\r\n          <Col md={4}>\r\n            <span className={'desc-text'}>Contatto Telefonico</span> <span\r\n            className={'highlighted-span-light'}>{pratica.contattoTelefonico}</span>\r\n          </Col>\r\n          <Col md={3}>\r\n            <span className={'desc-text'}>Importo richiesto</span> <span\r\n            className={'highlighted-span-light'}>{pratica.importoRichiesto?currencyFormatDE(pratica.importoRichiesto): ''}</span>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row className={'mb-4'}>\r\n          <Col md={5}>\r\n            <span className={'desc-text'}>PEC</span> <span className={'highlighted-span-light'}>{pratica.pec}</span>\r\n          </Col>\r\n          <Col md={4}>\r\n            <span className={'desc-text'}>Prodotto</span> <span\r\n            className={'highlighted-span-light'}>{pratica.prodotto}</span>\r\n          </Col>\r\n          <Col md={3}>\r\n            <span className={'desc-text'}>Durata</span> <span\r\n            className={'highlighted-span-light'}>{pratica.durata}</span>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row className={'mb-4'}>\r\n          <Col md={5}>\r\n            <span className={'desc-text'}>Codice Fiscale/P.IVA</span> <span\r\n            className={'highlighted-span-light'}>{pratica.codiceFiscale}</span>\r\n          </Col>\r\n          <Col md={4}>\r\n            <span className={'desc-text'}>Periodicità</span> <span\r\n            className={'highlighted-span-light'}>{pratica.periodicita}</span>\r\n          </Col>\r\n          <Col md={3}>\r\n            <span className={'desc-text'}>Finalità</span> <span\r\n            className={'highlighted-span-light'}>{pratica.finalita}</span>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>);\r\n}\r\n","import {Button, Col, Form, Modal, Row, Spinner} from \"react-bootstrap\";\r\nimport React, {useEffect, useState} from 'react';\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faDownload,\r\n  faExclamationCircle,\r\n  faTimesCircle,\r\n  faUpload\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {K} from \"../../Constants\";\r\nimport {apiCambioStato, apiDeleteDocumento, apiDownloadDocumento, apiNota, apiUploadDocumento} from \"../../http/api\";\r\nimport MyImage from '../../img/image_25.png'\r\nimport {getStatoDesc, getStatoEnum} from \"../../http/helpers\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nexport const SezioneDocumento = ({\r\n                                   tipoDocumento, classeDocumentoId,\r\n                                   statoDocumento, listaDoc, notaFromDoc, isProspect, update, required, statoPratica\r\n                                 }) => {\r\n  const [stato, setStato] = useState(statoDocumento);\r\n  const [file, setFile] = useState();\r\n  const [uploading, setUploading] = useState(false);\r\n  const [downloading, setDownloading] = useState();\r\n  const [fileSelected, setFileSelected] = useState();\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showModalRifiuto, setShowModalRifiuto] = useState(false);\r\n  const [showModalDoc, setShowModalDoc] = useState({show: false, id: undefined});\r\n  const [nota, setNota] = useState({nota: null})\r\n\r\n  // const handleClickOutside = event => {\r\n  //   const domNode = ReactDOM.findDOMNode(this);\r\n  //\r\n  //   if (!domNode || !domNode.contains(event.target)) {\r\n  //     setFileSelected(undefined)\r\n  //   }\r\n  // }\r\n\r\n  // useEffect(() => {\r\n  //   document.addEventListener('click', handleClickOutside, true);\r\n  //   return () => {\r\n  //     document.removeEventListener('click', handleClickOutside, true);\r\n  //   };\r\n  // }, []);\r\n\r\n  // const upload = () => {\r\n  //   const input = document.createElement('input');\r\n  //   input.type = 'file';\r\n  //   input.onchange = (event) => {\r\n  //     //setUploading(true);\r\n  //     const data = new FormData();\r\n  //     console.log(event.target.files[0])\r\n  //     data.append(\"nome\", event.target.files[0].name)\r\n  //     data.append(\"file\", event.target.files[0])\r\n  //     apiUploadDocumento(data, K.serviceUrl, classeDocumentoId).then(() => {\r\n  //       //setUploading(false);\r\n  //       update();\r\n  //     })\r\n  //   }\r\n  //   input.click();\r\n  //   //setUploading(true)\r\n  // };\r\n\r\n\r\n  const upload = () => {\r\n    apiUploadDocumento(K.serviceUrl, classeDocumentoId, setUploading)\r\n      .then(() => {\r\n        setUploading(false);\r\n        console.log(\"uploaded\")\r\n        update()\r\n      }, () => setUploading(false));\r\n  };\r\n\r\n  const deleteDoc = (docId) => {\r\n    apiDeleteDocumento(K.serviceUrl, docId)\r\n      .then(() => {\r\n        apiCambioStato(K.serviceUrl, {idClasseDocumento: classeDocumentoId, stato: \"IN_LAVORAZIONE\"}).then(() => {\r\n          setStato(\"IN_LAVORAZIONE\")\r\n          update()\r\n        })\r\n      });\r\n  };\r\n\r\n  // const updateStato = (stato) => {\r\n  //   setStato(stato)\r\n  // };\r\n\r\n  const selectFile = (file, fileIndex) => {\r\n    if (fileIndex !== fileSelected && ((statoDocumento !== 'APPROVATO' && isProspect) || !isProspect)) {\r\n      setFile(file);\r\n      setFileSelected(fileIndex)\r\n    } else {\r\n      setFile(null)\r\n      setFileSelected(null)\r\n    }\r\n  };\r\n\r\n  const handleChange = event => {\r\n    if (event.target.value === 'RIFIUTATO') {\r\n      setShowModal(true);\r\n    } else {\r\n      apiCambioStato(K.serviceUrl, {idClasseDocumento: classeDocumentoId, stato: event.target.value})\r\n        .then(() => {\r\n          setStato(event.target.value)\r\n          console.log(stato)\r\n          update();\r\n        })\r\n    }\r\n  };\r\n\r\n  const invia = () => {\r\n    apiCambioStato(K.serviceUrl, {idClasseDocumento: classeDocumentoId, stato: \"RIFIUTATO\"})\r\n      .then(() => {\r\n        apiNota(K.serviceUrl, classeDocumentoId, nota).then(() => {\r\n          console.log('ok nota')\r\n          update();\r\n        }).catch(reason => console.log(reason))\r\n\r\n      })\r\n\r\n  }\r\n\r\n  const handleNota = (e) => {\r\n    setNota(e.target.value);\r\n  }\r\n\r\n  const handleDeleteDocumento = (id) => {\r\n    if (statoPratica === \"Istruttoria documentale\" && statoDocumento === \"IN_LAVORAZIONE\" || statoDocumento === \"RIFIUTATO\") {\r\n      setShowModalDoc({show: true, id: id})\r\n    }\r\n  }\r\n\r\n  const handleHide = () => {\r\n    setShowModal(false);\r\n    update();\r\n    console.log(stato);\r\n  }\r\n\r\n\r\n  const download = (id) => {\r\n    if (id === undefined) return;\r\n    return apiDownloadDocumento(K.serviceUrl, id, setDownloading).then(() => {\r\n      setDownloading(false)\r\n    }, () => setDownloading(false));\r\n  };\r\n  return (<>\r\n      <Modal show={showModal} onHide={() => {\r\n        setShowModal(false)\r\n      }}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Non Accettare</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Group\r\n              className=\"mb-3\"\r\n              controlId=\"message\">\r\n              <Form.Label>Inserisci motivo del rifiuto da notificare al cliente specificando i documenti da\r\n                ricaricare</Form.Label>\r\n              <Form.Control as=\"textarea\" rows={3} onChange={(event) => handleNota(event)}/>\r\n            </Form.Group>\r\n          </Form>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={() => {\r\n            invia();\r\n            setShowModal(false);\r\n          }}>Invia</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n\r\n      <Modal show={showModalRifiuto} onHide={() => {\r\n        setShowModalRifiuto(false);\r\n      }}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Documentazione Rifiutata</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>{notaFromDoc}</p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={() => {\r\n            setShowModalRifiuto(false);\r\n          }}>Ok</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n\r\n      <Modal show={showModalDoc.show} onHide={() => setShowModalDoc({show: false, id: undefined})}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Cancella</Modal.Title>\r\n        </Modal.Header>\r\n\r\n        <Modal.Body>\r\n          <p>Sei sicuro di voler eliminare il documento?\r\n          </p>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowModalDoc({show: false, id: undefined})}>No</Button>\r\n          <Button variant=\"primary\" onClick={() => {\r\n            deleteDoc(showModalDoc.id);\r\n            setShowModalDoc({show: false, id: undefined});\r\n          }}>Si</Button>\r\n        </Modal.Footer>\r\n\r\n      </Modal>\r\n\r\n      <Row className={'mt-2 p-2'}>\r\n        <Col md={5}>\r\n          <p className={`margin-custom-l document-text ${required ? \"required\" : \"\"}`}>{tipoDocumento}</p>\r\n        </Col>\r\n        {!isProspect && statoPratica === \"Istruttoria documentale\" && stato !== \"APPROVATO\" ? <></> :\r\n          <>\r\n            {tipoDocumento !== \"Altro\" ?\r\n              <>\r\n                <Col md={3} className={'align-to-end '}>\r\n                  {listaDoc.map((value, index) => (\r\n                    <span key={value.id} title={value.fileName}\r\n                          className={'p-1 me-1  border border-3 position-relative ' + ((fileSelected === index) ? 'rounded border-primary ' : 'border-white')}>\r\n            <img src={MyImage} onClick={event => selectFile(value.id, index)}/>\r\n                      {fileSelected === index && isProspect &&\r\n                        <FontAwesomeIcon\r\n                          style={{position: 'absolute', top: '-75%', left: '25%', color: '#0275d8', cursor: 'pointer'}}\r\n                          icon={faTimesCircle} onClick={(e) => handleDeleteDocumento(value.id)}/>}\r\n          </span>\r\n                  ))}\r\n                </Col>\r\n                {listaDoc.length > 0 ?\r\n                  <Col md={2} className={' d-flex justify-content-center '}>\r\n                    {isProspect ? <p\r\n                        className={listaDoc.length > 0 ? statoDocumento : ''}>{listaDoc.length > 0 ? getStatoDesc(statoDocumento) : ''}</p> :\r\n                      <select className={`form-select-xs ${statoDocumento}-select`} aria-label=\"Default select example\" disabled={!isProspect && statoPratica === \"Istruttoria documentale\"}\r\n                              value={statoDocumento} onChange={handleChange}>\r\n                        <option value=\"APPROVATO\">Approvato</option>\r\n                        <option value=\"IN_LAVORAZIONE\">In Lavorazione</option>\r\n                        <option value=\"RIFIUTATO\">Rifiutato</option>\r\n                      </select>\r\n                    }\r\n                  </Col> :\r\n                  <Col md={2}>\r\n\r\n                  </Col>\r\n                }\r\n              </>\r\n              :\r\n\r\n              <Col md={5} className={'align-to-end'}>\r\n\r\n                {listaDoc.map((value, index) => (\r\n                  <span key={value.id}\r\n                        className={'p-1 me-1  border border-3 position-relative ' + ((fileSelected === index) ? 'rounded border-primary ' : 'border-white')}>\r\n          <img src={MyImage} onClick={event => selectFile(value.id, index)}/>\r\n                    {fileSelected === index && isProspect &&\r\n                      <FontAwesomeIcon\r\n                        style={{position: 'absolute', top: '-75%', left: '25%', color: '#0275d8', cursor: 'pointer'}}\r\n                        icon={faTimesCircle} onClick={() => handleDeleteDocumento(value.id)}/>}\r\n          </span>))\r\n                }\r\n              </Col>\r\n            }\r\n            <Col md={2} className={'align-content-left'}>\r\n              {isProspect ?\r\n                <>\r\n                  {statoPratica === \"Istruttoria documentale\" && statoDocumento !== \"APPROVATO\" &&\r\n                    <button className={'upload-buttons'} onClick={() => upload()}>\r\n                      {uploading === true && <Spinner animation=\"border\" variant=\"secondary\" size=\"sm\"/>}\r\n                      <span className={'highlighted-span document-text secondary-color'}>Carica\r\n          <FontAwesomeIcon icon={faUpload} className={'primary-color mx-1'}></FontAwesomeIcon></span>\r\n                    </button>}\r\n                  {(notaFromDoc && statoDocumento !== 'APPROVATO') &&\r\n                    <FontAwesomeIcon icon={faExclamationCircle} className={'primary-color fa-lg mx-2 pointer-icon'}\r\n                                     onClick={(event) => setShowModalRifiuto(true)}></FontAwesomeIcon>\r\n                  }\r\n                </>\r\n                :\r\n                <>\r\n                  {file &&\r\n                    <button className={'upload-buttons'} onClick={() => {\r\n                      download(file)\r\n                      setDownloading(true);\r\n                    }}>\r\n                      {downloading === true && <Spinner animation=\"border\" variant=\"secondary\" size=\"sm\"/>}\r\n                      <span className={'highlighted-span document-text secondary-color'}>Scarica\r\n          <FontAwesomeIcon icon={faDownload} className={'primary-color mx-1'}></FontAwesomeIcon>\r\n          </span>\r\n                    </button>\r\n\r\n                  }\r\n\r\n                </>\r\n              }\r\n            </Col>\r\n\r\n          </>\r\n        }\r\n        <hr/>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n\r\n","import {Col, Row, Spinner} from \"react-bootstrap\";\r\nimport React, {useEffect, useState} from 'react';\r\nimport {SezioneDocumento} from \"./common/SezioneDocumento\";\r\nimport {K} from \"../Constants\";\r\nimport {apiDettaglioDocumenti, apiDettaglioPratica, apiDownloadDocumentazione} from \"../http/api\";\r\nimport {useQuery} from \"../http/helpers\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faDownload} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\n\r\nexport const Documentazione = ({isProspect, appDocValid, esitoValid, update}) => {\r\n\r\n  let query = useQuery().get('guid');\r\n  const [response, setResponse] = useState([]);\r\n  const [statoPratica, setStatoPratica] = useState();\r\n  const [downloading, setDownloading] = useState(false);\r\n\r\n\r\n  function allAreApprovati(array) {\r\n    return array.filter(y => y.tipoDocumento !== \"Altro\").filter(x => x.listaDocumenti.length > 0).every(element => {\r\n      return element.statoDocumento === \"APPROVATO\";\r\n    });\r\n  }\r\n\r\n  function allAreNotInLavorazione(array) {\r\n    return array.filter(y => y.tipoDocumento !== \"Altro\").filter(x => x.listaDocumenti.length > 0).every(element => {\r\n      return (element.statoDocumento === \"APPROVATO\" || element.statoDocumento === \"RIFIUTATO\" );\r\n    });\r\n  }\r\n\r\n  const getDocumentazione = () => {\r\n    let query = useQuery().get('guid');\r\n    apiDettaglioDocumenti(K.serviceUrl, query)\r\n      .then(json => {\r\n        setResponse([...json]);\r\n        //changeDocsCaricati(allAreCaricati(json));\r\n        appDocValid(allAreApprovati(json));\r\n        esitoValid(allAreNotInLavorazione(json))\r\n        update();\r\n      })\r\n      .catch(e => console.log(e));\r\n  };\r\n\r\n  const getStatoPratica = () => {\r\n    apiDettaglioPratica(K.serviceUrl, query).then(json => {\r\n      setStatoPratica(json.statoPratica)\r\n    })\r\n  }\r\n\r\n\r\n\r\n  const downloadAll = () => {\r\n    let query = useQuery().get('guid');\r\n    setTimeout(100000);\r\n    apiDownloadDocumentazione(K.serviceUrl, query, setDownloading).then(() => setDownloading(false))\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    update();\r\n    getDocumentazione();\r\n    getStatoPratica();\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <>\r\n      {!isProspect && statoPratica === \"Istruttoria documentale\" &&\r\n        <div className={'white-rounded-shadowed '}>\r\n\r\n          <p className={'pratica-title text-center yellow-color'}>In attesa di revisione da parte del cliente</p>\r\n        </div>}\r\n\r\n      {isProspect && statoPratica === \"Controllo documentale\" &&\r\n        <div className={'white-rounded-shadowed mt-4'}>\r\n          <Col md={1}>\r\n\r\n            <p className={'desc-text'}>DOCUMENTAZIONE</p>\r\n          </Col>\r\n          <p className={'pratica-title text-center'}>In attesa di revisione da parte dell'operatore</p>\r\n        </div>}\r\n\r\n      {isProspect && statoPratica === \"Analisi istruttoria creditizia\" &&\r\n        <div className={'white-rounded-shadowed'}>\r\n          <p className={'pratica-title text-center green-color'}>Lo stato della sua pratica\r\n            è stato aggiornato in \"Analisi Istruttoria Creditizia\"</p>\r\n        </div>\r\n        }\r\n\r\n\r\n      {((isProspect && statoPratica === \"Istruttoria documentale\") || (!isProspect)) &&\r\n        <>\r\n          {\r\n            K.categorie.map((categoria, index) => {\r\n              return (\r\n                <>\r\n                  <div className={'white-rounded-shadowed mt-4'}>\r\n                    <Row className={''}>\r\n                      <Col md={4}>\r\n                        <p className={'desc-text align-to-start'}>{categoria.toString().toUpperCase()}</p>\r\n                      </Col>\r\n\r\n                        <Col md={4} className={'align-to-center'}>\r\n                          {index===0 && isProspect && <a className={'highlighted-span-light'}\r\n                                                         href={'https://storage.googleapis.com/fastlending_bucket/documentazione/documentazione_cliente.zip'}>\r\n                            Scarica qui la documentazione\r\n                          </a>}\r\n                        </Col>\r\n\r\n                      <Col md={4}>\r\n                        <p className={'desc-text align-to-end'}>*Campi Obbligatori</p>\r\n                      </Col>\r\n                    </Row>\r\n                    {!isProspect &&  statoPratica!== \"Istruttoria documentale\" &&\r\n                      <Row className={'align-to-end'}>\r\n                        <Col md={13}>\r\n\r\n        <span className={'primary-color btn'} onClick={() => {\r\n          downloadAll();\r\n          setDownloading(true);\r\n        }}>Scarica tutto\r\n          {downloading === true ? <Spinner className={'mx-2'} animation=\"border\" variant=\"primary\" size=\"sm\"/>\r\n            : <FontAwesomeIcon icon={faDownload} className={' ms-1 primary-color'}></FontAwesomeIcon>}\r\n         </span>\r\n                        </Col>\r\n                      </Row>}\r\n\r\n                    <Row className={'align-to-start mt-4'}>\r\n                      <Col md={5}>\r\n                        <p className={'desc-text margin-custom-l'}>DOCUMENTI {isProspect ? \"DA CARICARE\" : \"\"}</p>\r\n                      </Col>\r\n                      <Col md={3}>\r\n                        <p className={'desc-text'}>FILE</p>\r\n                      </Col>\r\n                      <Col md={2}>\r\n                        <p className={'desc-text'}>STATO</p>\r\n                      </Col>\r\n                      <Col md={2}></Col>\r\n                    </Row>\r\n                    {response\r\n                      .filter(sezione => {\r\n                        return sezione.categoria === categoria\r\n                      })\r\n                      .map((value, index) => <SezioneDocumento key={value.tipoDocumento}\r\n                                                               tipoDocumento={value.tipoDocumento}\r\n                                                               classeDocumentoId={value.idClasseDocumento}\r\n                                                               statoDocumento={value.statoDocumento}\r\n                                                               statoPratica={statoPratica}\r\n                                                               listaDoc={value.listaDocumenti}\r\n                                                               notaFromDoc={value.nota}\r\n                                                               isProspect={isProspect}\r\n                                                               update={getDocumentazione}\r\n                                                               required={value.obbligatorio}/>)\r\n                    }\r\n\r\n\r\n                  </div>\r\n                </>)\r\n            })\r\n          }\r\n        </>\r\n      }\r\n      {((isProspect && statoPratica === \"Istruttoria documentale\") || (!isProspect)) &&\r\n        <div className={'white-rounded-shadowed mt-4'}>\r\n          <Row className={'align-to-start'}>\r\n            <Col md={12}>\r\n              <p className={'desc-text'}>DOCUMENTAZIONE AGGIUNTIVA</p>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row className={'align-to-start mt-4'}>\r\n            <Col md={10}>\r\n              <p className={'desc-text margin-custom-l'}>CARICA DOCUMENTI</p>\r\n            </Col>\r\n\r\n            <Col md={2}></Col>\r\n          </Row>\r\n          {response.filter(value => value.tipoDocumento === \"Altro\").map((value, index) => <SezioneDocumento\r\n            key={value.tipoDocumento}\r\n            tipoDocumento={value.tipoDocumento}\r\n            classeDocumentoId={value.idClasseDocumento}\r\n            statoDocumento={value.statoDocumento}\r\n            statoPratica={statoPratica}\r\n            nota={value.nota}\r\n            listaDoc={value.listaDocumenti}\r\n            isProspect={isProspect}\r\n            update={getDocumentazione}/>)}\r\n\r\n        </div>\r\n      }\r\n    </>);\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Dettaglio} from \"./Dettaglio\";\r\nimport {Documentazione} from \"./Documentazione\";\r\nimport {getIsProspect, useQuery} from \"../http/helpers\";\r\nimport {apiDettaglioDocumenti, apiDettaglioPratica} from \"../http/api\";\r\nimport {K} from \"../Constants\";\r\nimport {useKeycloak} from \"@react-keycloak/web\";\r\nimport {Row} from \"react-bootstrap\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport const Pratica = () => {\r\n\r\n  const [appDocActive, setAppDocActive] = useState(false);\r\n  const [esitoActive, setEsitoActive] = useState(false);\r\n  const { keycloak, initialized } = useKeycloak();\r\n  const [statoPratica, setStatoPratica] = useState();\r\n  const [isAllCaricati, setIsAllCaricati] = useState(false)\r\n  const [response, setResponse] = useState([])\r\n\r\n\r\n\r\n  const appDocValid = (value) => {\r\n    setAppDocActive(value);\r\n  };\r\n\r\n  const esitoValid = (value) => {\r\n    setEsitoActive(value)\r\n  }\r\n\r\n  const changeVisibilitaDocumenti = () => {\r\n    let query = useQuery().get('guid');\r\n    apiDettaglioPratica(K.serviceUrl, query).then(json => {\r\n      console.log(\"stato pratica:\" + json.statoPratica)\r\n      console.log(json.statoPratica === \"Istruttoria documentale\")\r\n      setStatoPratica(json.statoPratica);\r\n    })\r\n      .catch(e => console.log(e));\r\n  }\r\n\r\n  const controllaDocsCaricati = () => {\r\n    let query = useQuery().get('guid');\r\n    apiDettaglioDocumenti(K.serviceUrl, query)\r\n      .then(json => {\r\n        setResponse([...json]);\r\n         setIsAllCaricati(json.filter(x => x.obbligatorio).every(element => {\r\n           return element.listaDocumenti.length > 0 && element.statoDocumento !== \"RIFIUTATO\";\r\n         }));\r\n      })\r\n      .catch(e => console.log(e));\r\n  };\r\n\r\n  const changeDocsCaricati = (isAllCaricati) =>{\r\n    setIsAllCaricati(isAllCaricati);\r\n  }\r\n\r\n  useEffect(() => {\r\n    changeVisibilitaDocumenti();\r\n    controllaDocsCaricati();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className={'back-col '}>\r\n        {getIsProspect() === false &&\r\n          <button  className={'custom-button m-3'} onClick={event =>window.location.href = \"/entando-de-app/en/lista_richieste.page\"}>\r\n          <FontAwesomeIcon icon={faArrowLeft}/> Torna alla lista\r\n        </button>}\r\n        {getIsProspect() === true &&\r\n          <button  className={'custom-button m-3'} onClick={event =>window.location.href = \"/entando-de-app\"}>\r\n            <FontAwesomeIcon icon={faArrowLeft}/> Torna alla home\r\n          </button>}\r\n        <Dettaglio buttonAppDoc={appDocActive} buttonEsito={esitoActive}  update={controllaDocsCaricati} isAllCaricati={isAllCaricati} isProspect={getIsProspect()} />\r\n        <Documentazione isProspect={getIsProspect()} appDocValid={appDocValid} esitoValid={esitoValid} stato={statoPratica}\r\n                        changeDocsCaricati={changeDocsCaricati} update={controllaDocsCaricati}/>\r\n      </div>\r\n    </>);\r\n}\r\n\r\n\r\n","import './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React from 'react';\r\nimport {Pratica} from \"./components/Pratica\";\r\n\r\nfunction App() {\r\n\r\n  // const { keycloak, initialized } = useKeycloak()\r\n  // if (keycloak.authenticated) {\r\n  //   initApplicationConstants();\r\n  //   checkNewUser();\r\n  // }\r\n\r\n  return (\r\n<Pratica/>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {initServiceUrl} from \"./Constants\";\r\nimport Keycloak from \"keycloak-js\";\r\nimport {ReactKeycloakProvider} from \"@react-keycloak/web\";\r\n\r\n\r\nconst ATTRIBUTES = {\r\n  serviceUrl: 'service-url',\r\n};\r\n\r\nconst getKeycloakInstance = () =>\r\n  (window &&\r\n    window.entando &&\r\n    window.entando.keycloak && {...window.entando.keycloak, initialized: true}) || {\r\n    initialized: false,\r\n  };\r\n\r\nconst keycloakConfig = {\r\n  realm: 'entando',\r\n  clientId: 'entando-web',\r\n  url: 'http://34.78.126.51.nip.io/auth'\r\n}\r\nconst keycloak = new Keycloak(keycloakConfig)\r\nwindow.keycloak = keycloak\r\n\r\nclass WidgetElement extends HTMLElement {\r\n\r\n  keycloak = getKeycloakInstance();\r\n\r\n  static get observedAttributes() {\r\n    return Object.values(ATTRIBUTES);\r\n  }\r\n\r\n  connectedCallback() {\r\n    const serviceUrl = this.getAttribute(\"service-url\")\r\n    initServiceUrl(serviceUrl);\r\n\r\n    this.mountPoint = document.createElement('div');\r\n    this.appendChild(this.mountPoint);\r\n    this.keycloak = {...getKeycloakInstance(), initialized: true};\r\n\r\n    console.log(window.keycloak)\r\n\r\n    ReactDOM.render(\r\n      <ReactKeycloakProvider authClient={keycloak}>\r\n        <App/>\r\n      </ReactKeycloakProvider>\r\n      , this.mountPoint);\r\n  }\r\n}\r\n\r\n\r\ncustomElements.define('pratica-widget', WidgetElement);\r\n\r\nexport default WidgetElement;\r\n\r\n"],"sourceRoot":""}