{"version":3,"sources":["http/helpers.js","http/api.js","Constants.js","components/ListaPratica.js","App.js","WidgetElement.js"],"names":["request","_ref","Object","asyncToGenerator","_regeneratorRuntime","mark","_callee","url","options","haveBodyResponse","response","_args","arguments","wrap","_context","prev","next","length","undefined","fetch","sent","status","abrupt","json","Promise","reject","stop","_x","_x2","apply","this","get","objectSpread","headers","Headers","Content-Type","method","apiListaPratiche","api_regeneratorRuntime","serviceUrl","page","size","concat","_x3","K","ListaPratica","_useState","useState","_useState2","slicedToArray","pratiche","setPratiche","_useState3","first","last","total","current","_useState4","pratichePages","setPratichePages","getListaPratiche","then","console","log","pagination","totalPages","number","content","catch","e","useEffect","react_default","a","createElement","Fragment","className","Row","Table","responsive","map","pratica","i","key","id","cliente","dataApertura","prodotto","statoPratica","Col","md","disabled","onClick","buttons","firstPageShown","Math","max","lastPageShown","min","push","event","target","innerText","pagesButtons","targetPage","Number","parseInt","App","ListaPratica_ListaPratica","ATTRIBUTES","WidgetElement","getAttribute","initServiceUrl","mountPoint","document","appendChild","ReactDOM","render","src_App","values","HTMLElement","customElements","define"],"mappings":"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","file":"static/js/main.b528105a.chunk.js","sourcesContent":["export const getDefaultOptions = () => ({\n  headers: new Headers({\n    'Content-Type': 'application/json'\n  })\n});\n\n\nexport const request = async (url, options, haveBodyResponse = true) => {\n  const response = await fetch(url, options);\n  if (response.status === 204) {\n    return {};\n  }\n  if (response.status >= 200 && response.status < 300) {\n    if (haveBodyResponse) {\n      return response.json();\n    }\n    return {};\n  }\n  return Promise.reject(response.status);\n};\n\n\nexport const getIsProspect = () => {\n  return !!window.keycloak;\n};\n\nexport const useQuery = () => {\n  return new URLSearchParams(window.location.search);\n};\n\n\n\n\n\n","import {getDefaultOptions, request} from \"./helpers\";\n\n\nconst get = (url) => {\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET'\n  };\n  return request(url, options);\n};\n\n\nexport const apiListaPratiche = async (serviceUrl, page, size) => {\n  return get(`${serviceUrl}/api/pratica/all?page=${page}&size=${size}`);\n};\n","\nexport const K = {\n\n  serviceUrl : null,\n\n\n\n};\n\nexport const initServiceUrl = (serviceUrl) => K.serviceUrl = serviceUrl;\n\n\n","import React, {useEffect, useState} from 'react';\nimport {apiListaPratiche} from \"../http/api\";\nimport {K} from \"../Constants\";\nimport {Col, Row, Table} from \"react-bootstrap\";\n\n\nexport const ListaPratica = () => {\n  const [pratiche, setPratiche] = useState([]);\n  const [pratichePages, setPratichePages] = useState({first: true, last: false, total: 1, current: 0})\n\n\n  const getListaPratiche = (page) => {\n    apiListaPratiche(K.serviceUrl, page , 5)\n      .then(json => {\n        console.log(json)\n        const pagination = {first: json.first, last: json.last, total: json.totalPages, current: json.number}\n        setPratichePages(pagination)\n        setPratiche(json.content)\n      })\n      .catch(e => console.log(\"err get lista\"));\n  };\n\n  const pagesButtons = (total, onClick) => {\n    let buttons = [];\n    let firstPageShown = Math.max(0, pratichePages.current - 2);\n    let lastPageShown = Math.min(total,  pratichePages.current + 3);\n    if (firstPageShown !== 0) {\n      buttons.push(<button key={0} onClick={(event) => onClick(event.target.innerText)}>1</button>);\n      if (firstPageShown !== 1) {\n        buttons.push(<button key={'prec-pages'} className={'pagination-button-disabled'}>...</button>);\n      }\n    }\n    for (let i = firstPageShown; i < lastPageShown; i++) {\n      buttons.push(<button key={i} onClick={(event) => onClick(event.target.innerText)} className={pratichePages.current === i ? 'strong' : ''}>{i+1}</button>);\n    }\n    if (lastPageShown !== total) {\n      if (lastPageShown !== total-1) {\n        buttons.push(<button key={'foll-pages'} className={'pagination-button-disabled'}>...</button>);\n      }\n      buttons.push(<button key={total-1} onClick={(event) => onClick(event.target.innerText)}>{total}</button>);\n    }\n    return buttons;\n  };\n  const changePage = (targetPage) => {\n    getListaPratiche(Number.parseInt(targetPage)-1);\n  };\n\n\n  useEffect(() => {\n    getListaPratiche(0);\n  }, []);\n\n  return (\n    <>\n      <div className={'back-col'}>\n        <p className={'title m-4'}>Fast Lending</p>\n        <p className={'subtitle m-4'}>Lista pratiche Fast Lending</p>\n        <hr className={'m-4'}/>\n        <div className={'white-rounded-shadowed m-4'}>\n          <Row className={\"align-content-center\"}>\n            <Table responsive>\n              <thead className={'table-head'}>\n              <tr>\n                <th>ID</th>\n                <th>CLIENTE</th>\n                <th>DATA APERTURA</th>\n                <th>PRODOTTO</th>\n                <th>STATO PRATICA</th>\n              </tr>\n              </thead>\n              <tbody className={'table-data '}>\n              {pratiche.map((pratica, i) =>\n                <tr key={i} className={'table-row'}>\n                  <td className={'primary-color pointer text-decoration-underline'}>{pratica.id}</td>\n                  <td className={\"fw-bolder\"}>{pratica.cliente}</td>\n                  <td className={\"data\"}>{pratica.dataApertura}</td>\n                  <td>{pratica.prodotto}</td>\n                  <td><span className={'stato'}>{pratica.statoPratica}</span></td>\n                </tr>\n              )}\n              </tbody>\n            </Table>\n          </Row>\n        </div>\n        <Row>\n          <Col md={8}></Col>\n          <Col md={4} className={'mt-2 pagination-button align-to-end '} >\n            <button disabled={pratichePages.first} className={pratichePages.first ? 'button-disabled' : ''} onClick={() => getListaPratiche(pratichePages.current-1)}>Indietro</button>\n            {pagesButtons(pratichePages.total, changePage)}\n            <button disabled={pratichePages.last} className={pratichePages.last ? 'button-disabled' : ''} onClick={() => getListaPratiche(pratichePages.current+1)}>Avanti</button>\n          </Col>\n        </Row>\n\n      </div>\n    </>);\n}\n\n\n","import './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React from 'react';\nimport {ListaPratica} from \"./components/ListaPratica\";\n\nfunction App() {\n\n  // const { keycloak, initialized } = useKeycloak()\n  // if (keycloak.authenticated) {\n  //   initApplicationConstants();\n  //   checkNewUser();\n  // }\n\n  return (\n<ListaPratica/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {initServiceUrl} from \"./Constants\";\n\n\nconst ATTRIBUTES = {\n  serviceUrl: 'service-url',\n};\n\nclass WidgetElement extends HTMLElement {\n\n  static get observedAttributes() {\n    return Object.values(ATTRIBUTES);\n  }\n\n  connectedCallback() {\n    const serviceUrl = this.getAttribute(\"service-url\")\n    initServiceUrl(serviceUrl);\n\n    this.mountPoint = document.createElement('div');\n    this.appendChild(this.mountPoint);\n\n    ReactDOM.render(<App serviceUrl={serviceUrl}/>, this.mountPoint);\n  }\n}\n\n\ncustomElements.define('pratica-widget', WidgetElement);\n\nexport default WidgetElement;\n\n"],"sourceRoot":""}